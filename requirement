Summary: Design and integrate an AIpowered summary service that pulls recent customer activity from DynamoDB and IVR intent, then surfaces it in Salesforce CRM for agents at calltime. 
App Code/ NEE Code: 
  
üîç Expanded Functional Requirements 
1. Data Ingestion & Preparation 
‚Ä¢	Customer Identification  
o	Each call session must pass a unique customer_id (primary key) from IVR ‚Üí Salesforce ‚Üí AI service. 
‚Ä¢	Transaction & Touchpoint Retrieval  
o	Query DynamoDB for the last x number of interactions domain associated with intent 
o	Retrieve up to # most recent events, filtered by relevance (payments, complaints, renewals, cancellations, service requests). 
ÔÇß	Create summary of insights if no IVR intents based on Hierarchy of intent priorization (outage, power quality, collections, payment, billing) 
o	Events must include:  
ÔÇß	event_type (payment, complaint, renewal, etc.) 
ÔÇß	event_date 
ÔÇß	event_description 
ÔÇß	channel (voice, chat, email, web) 
ÔÇß	status (open, closed, pending) 
‚Ä¢	IVR Intent Capture  
o	IVR exit intent must be passed into the AI model as a contextual signal. 
o	All intents need to be supported 
  
2. AI Summary Generation 
‚Ä¢	Input Schema  
‚Ä¢	{ 
‚Ä¢	  "customer_id": "12345", 
‚Ä¢	  "ivr_intent": "billing inquiry", 
‚Ä¢	  "recent_transactions": [ 
‚Ä¢	    {"event_type":"payment","event_date":"2025-11-20","status":"late","channel":"web"}, 
‚Ä¢	    {"event_type":"complaint","event_date":"2025-11-15","status":"open","channel":"voice"} 
‚Ä¢	  ] 
‚Ä¢	} 
‚Ä¢	Output Schema  
‚Ä¢	{ 
‚Ä¢	  "summary_text": "Customer recently made a late payment on Nov 20 and filed a complaint about billing issues last week. IVR intent indicates billing inquiry.", 
‚Ä¢	  "highlights": [ 
‚Ä¢	    "Late payment on Nov 20", 
‚Ä¢	    "Open complaint filed Nov 15" 
‚Ä¢	  ], 
‚Ä¢	  "confidence_score": 0.92 
‚Ä¢	} 
‚Ä¢	AI Processing Rules  
o	Summarize in 3‚Äì5 sentences maximum. 
o	Prioritize events relevant to IVR intent. 
o	Highlight unresolved issues (open complaints, pending renewals). 
o	Suppress redundant events (e.g., multiple successful payments). 
o	Include contextual hints (e.g., ‚ÄúCustomer likely calling about billing due to recent late payment + IVR intent‚Äù). 
  
3. Salesforce CRM Integration 
‚Ä¢	Trigger Point  
o	Summary must be generated when agent retrieves account during call pop-up. 
‚Ä¢	UI Component  
o	In account360 omnichannel card 
o	Display format:  
ÔÇß	Summary text (AI-generated narrative). 
ÔÇß	Highlights list (bullet points). 
ÔÇß	Timestamp of last update. 
‚Ä¢	Agent Feedback  
o	Agents can rate summary (‚ÄúHelpful / Not Helpful‚Äù). 
o	Feedback stored in DynamoDB for model retraining. 
  
4. Workflow & Interaction 
‚Ä¢	Call Flow  
1.	Customer enters IVR ‚Üí exits with intent. 
2.	IVR passes customer_id + ivr_intent to Salesforce. 
3.	Salesforce triggers API call to AI summary service. 
4.	AI service queries DynamoDB for recent events. 
5.	AI generates summary and returns to Salesforce. 
6.	Agent sees summary in Account Overview panel. 
‚Ä¢	Error Handling  
1.	If AI service fails, fallback to raw event list from DynamoDB. 
1.	Display message: ‚ÄúSummary unavailable, showing recent events.‚ÄùS 
  
5. Filtering & Relevance Rules 
‚Ä¢	Event Prioritization  
o	Show unresolved issues first (open complaints, active outage orders, pending renewals). 
o	Show financial events second (late payments, refunds). 
o	Show service interactions third (support tickets, chat transcripts).S 
‚Ä¢	Time Sensitivity  
o	Events older than #days excluded unless directly relevant to IVR intent. 
‚Ä¢	Channel Awareness  
o	Include cross-channel context (e.g., ‚ÄúCustomer emailed support yesterday and called last week‚Äù). 
  
6. Performance & Latency 
‚Ä¢	Response Time  
o	AI summary must return within 2 seconds. 
‚Ä¢	Scalability  
o	Must support peak load of 10k concurrent requests. 
‚Ä¢	Caching  
o	Cache summaries for 5 minutes to reduce duplicate queries during same call session. 
  
7. Security & Compliance 
‚Ä¢	Data Handling  
o	Only authorized agents can view summaries. 
o	No PII beyond what is already visible in Salesforce. 
‚Ä¢	Audit Logging  
o	Log all AI outputs with timestamp, customer_id, and confidence_score. 
o	Store logs in DynamoDB for compliance and retraining. 
‚Ä¢	Ability to disable summary generation call from IVR and Salesforce by admin console.  
‚Ä¢	Reporting and analytics: 
o	Keep log of summaries generated per contract account linked to the call id/contact id  
o	Fields to include but not limited to: 
ÔÇß	Contract account 
ÔÇß	Contact id (to be passed by SF/IVR when summary generation is invoked) 
ÔÇß	Channel summary was triggered by 
ÔÇß	Time/date 
ÔÇß	User feedback (helpful/not helpful) 

